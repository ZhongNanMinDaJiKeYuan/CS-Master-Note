物理层  
----  
***通信方式***  
根据信息在传输线上的传送方向，分为以下三种通信方式：  
1.单工通信：单向传输。  
2.半双工通信：双向交替传输。  
3.全双工通信：双向同时传输。  
  
数据链路层
----
***1 数据链路层的功能***  
链路层的主要功能：链路管理、帧同步、流量控制、差错控制、数据和控制信息分开、透明传输和寻址。  
数据链路层将网络层发送过来的IP数据报封装成帧，帧是数据链路层传输的基本单位，帧在数据链路上从一个结点传输到另外一个结点。    

***2 组帧***  
组帧就是将IP数据报封装成帧，具体操作就是在数据的前后分别添加首部和尾部。首部、IP数据报、尾部构成一个完整的帧，首部和尾部的作用是帧定界。    
![](https://github.com/zhuqianqian1996/CS-Master-Note/blob/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%9B%BE%E7%89%87/%E5%B8%A7.bmp)  

**透明传输**：帧使用首部和尾部进行定界，如果帧的数据部分含有和首部尾部相同的内容，那么帧的开始和结束位置就会被错误的判定。需要在数据部分出现首部尾部相同的内容前面插入转义字符。如果数据部分出现转义字符，那么就在转义字符前面再加个转义字符。在接收端进行处理之后可以还原出原始数据。这个过程透明传输的内容是转义字符，用户察觉不到转义字符的存在。  

***3 差错控制***  
&emsp;&emsp;在数据链路层传输帧的过程中，广泛使用了循环冗余检验技术（CRC）来检测比特差错：假设待传输的数据M=100101，则在M后面添加n位冗余码一起发送，相当于在M后面添加n个0。但是这样的检测方法，无法确定是哪几个比特出现了错误。  
  
***4 流量控制与可靠传输机制***  
**确认-重传机制**:发送窗口发送帧，接收窗口接收帧，发送方管理超时控制的计时器，在计时内，接收窗口返回接收信息到达发送窗口，则表明此次传输是正常传输。否则是超时传输，发送窗口会再次发送帧给接收窗口。使用上述的确认和重传机制，就可以在不可靠的传输网络上实现可靠的通信。  

**累计确认**:接收方不必对收到的分组逐个发送确认，而是对按序到达的最后一个分组发送确认，如此就表示：到这个分组为止所有的分组都已经被正确的接收。
* 累计确认的优点：容易实现，即使确认丢失也不必重传。  
* 累计确认的缺点：不能向发送方反映出接收方已经正确的接收到了所有的分组的信息。    

**后退N帧协议（GBN）**：如果发送方发送了前5个分组，而中间的第3个分组丢失了，此时接收方只能对前2个分组发送确认。发送方无法知道后面3个分组的下落，只能将后面的3个分组重传一次。这个就叫做后退N帧协议，表示需要再退回来重传已经发送过的N个分组。    
  
**选择重传协议（SR）**：当某帧出现错误后，其后继续送来的正确的帧被缓存在接收窗口的缓冲区中，同时接收窗口要求发送窗口重新发送出错的那一帧，一旦收到重新传来的帧后，就可以将缓冲区里的帧取出按照正确的帧顺序递交给高层。    
  
***5 介质访问控制***  
**信道划分介质访问控制**  
复用是通信技术中的重要概念。  
* 频分复用(FDM)：用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。 频分复用的所有用户在同样的时间占用不同的带宽资源，这里的带宽是频率带宽而不是数据的发送速度。  
* 时分复用（TDM）：时分复用是将时间划分为一段段等长的时分复用帧（TDM帧）。每一个时分复用的用户在每一个TDM帧中占用固定序号的时隙。每一个用户所占用的时隙周期性出现（周期就是TDM帧的长度）。TDM信号也称为等时信号。时分复用的所有用户在不同的时间占用同样的频带宽度。  
* 统计时分复用：是对时分复用的一种改进，不会去固定每个用户在时分复用帧中的位置，只要有数据就组合成为一个统计时分复用帧发送。  
* 波分复用：光的频分复用。  
* 码分复用：码分多址系统为每个用户分配了各自特定的地址码，利用公共信道来传输信息。CDMA系统的地址码相互具有准正交性，以区别地址，而在频率、时间和空间上都可能重叠。也就是说，每一个用户有自己的地址码，这个地址码用于区别每一个用户，地址码彼此之间是互相独立的，也就是互相不影响的。    
  
**随机访问介质访问控制**<br>
* 载波监听多路访问（CSMA）：当一个站点要发送数据前，需要先监听总线。如果总线上没有其他站点的发送信号存在，即总线是空闲的，则该站点发送数据；如果总线上有其他站点的发送信号存在，即总线是忙碌的，则需要等待一段时间间隔以后再重新监听总线，再根据总线的状态（忙/闲）决定是否发送数据。  
* CSMA/CD协议（载波监听多点接入 / 碰撞检测）：  
&emsp;多点接入 ：说明这是总线型网络，许多主机以多点的方式连接到总线上。  
&emsp;载波监听 ：每个主机都必须不停地监听信道。在发送前，如果监听到信道正在使用，就必须等待。  
&emsp;碰撞检测 ：在发送中，如果监听到信道已有其它主机正在发送数据，就表示发生了碰撞。虽然每个主机在发送数据之前都已经监听到信道为空闲，但是由于电磁波的传播时延的存在，还是有可能会发生碰撞。  
* CSMA/CA协议的原理:欲发送数据的站先检测信道，在802.11标准中规定了在物理层的空中接口进行物理层的载波监听。通过收到的相对信号强度是否超过一定的门限数值就可以判定是否有其他的移动站在信道上发送数据。但是考虑到其他的站点有优先级更高的帧需要发送，所以信道空闲的时候还需要再等待一会儿。当发生碰撞的时候，站点要停止发送，等待一段时间再发送，这个时间采用截断二进制指数退避算法来确定。  
  
**PPP协议**<br>  
互联网用户通常需要连接某一个ISP之后才能接入到互联网，PPP协议就是互联网用户和ISP进行数据通信时数据链路层的协议。   
![](https://github.com/zhuqianqian1996/CS-Master-Note/blob/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%9B%BE%E7%89%87/ppp.bmp)  
 F：帧的定界符。  
 A和C暂时无意义。  
 FCS：CRC检测的序列码。    
 IP数据报：数据信息，长度不超过1500。  
  
***MAC地址***<br>  
MAC地址是链路层地址，长度为6字节（48位），用于唯一标识网络适配器。一台主机有多少个网络适配器就有多少个MAC地址。
 






